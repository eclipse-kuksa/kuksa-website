<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Security Audit for Eclipse Kuksa released</title>
<meta name="author" content="Admin" />




<meta name="keywords" content="iot, smart mobility, kuksa, appstacle, SDV, SOAFEE, KUKSA.val, Audit, Security">


<meta name="description" content="Eclipse KUKSA community website">

<meta name="generator" content="Hugo 0.103.1" />


<link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>


<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.11.2/css/all.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link href="/kuksa-website/css/animate.css" rel="stylesheet">



  <link href="/kuksa-website/css/style.turquoise.css" rel="stylesheet" id="theme-stylesheet">



<link href="/kuksa-website/css/custom.css?1716285741" rel="stylesheet">



  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



<link rel="shortcut icon" href="/kuksa-website/img/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="/kuksa-website/img/apple-touch-icon.png" />


<link href="/kuksa-website/css/owl.carousel.css" rel="stylesheet">
<link href="/kuksa-website/css/owl.theme.css" rel="stylesheet">


<link rel="alternate" href="https://eclipse-kuksa.github.io/index.xml" type="application/rss+xml" title="Eclipse KUKSA">








<meta property="og:locale" content="en_us">
<meta property="og:site_name" content="Eclipse KUKSA">
<meta property="og:title" content="Security Audit for Eclipse Kuksa released">
<meta property="og:type" content="article">
<meta property="og:url" content="https://eclipse-kuksa.github.io/kuksa-website/blog/2024/05/21/2024-05-21-audit/" />
<meta property="og:description" content="Eclipse KUKSA community website">
<meta property="og:image" content="https://eclipse-kuksa.github.io/kuksa-website/img/banners/2024-05-21-auditBanner.png">
<meta property="og:image:type" content="image/png">



  <meta property="og:image:width" content="1062">
  <meta property="og:image:height" content="474">


<meta property="og:updated_time" content="2024-05-21T00:00:00Z">

  
  
  <meta property="article:section" content="Implementation">
  <meta property="article:tag" content="KUKSA.val">
  <meta property="article:tag" content="Audit">
  <meta property="article:tag" content="Security">
  
  
  <meta property="article:published_time" content="2024-05-21T00:00:00Z">
  <meta property="article:modified_time" content="2024-05-21T00:00:00Z">



<meta name="twitter:card" content="summary_large_image">

<meta name="twitter:title" content="Security Audit for Eclipse Kuksa released">

<meta name="twitter:image" content="https://eclipse-kuksa.github.io/kuksa-website/img/banners/2024-05-21-auditBanner.png">

<meta name="twitter:description" content="Eclipse KUKSA community website">


    
  </head>

  <body>

    <div id="all">

        


        <header class="navbar-affixed-top" data-spy="affix" data-offset-top="62">
    <div class="navbar navbar-default yamm " role="navigation" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/kuksa-website/">
                    
                      <img src="/kuksa-website/img/kuksa-logo-h-209x79.png" alt="Security Audit for Eclipse Kuksa released logo" class="hidden-xs hidden-sm" />
                      <img src="/kuksa-website/img/kuksa-logo-h-209x79.png" alt="Security Audit for Eclipse Kuksa released logo" class="visible-xs visible-sm" />
                    
                    <span class="sr-only">Security Audit for Eclipse Kuksa released - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  

                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/">Home</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/about/">Vision</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/quickstart">Quickstart</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/blog/">Blog</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/publications/">Videos &amp; Publications</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/kuksa-website/resources/">Resources</a>
                  </li>
                  
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</header>




        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Security Audit for Eclipse Kuksa released</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        
                          <p class="text-muted text-uppercase mb-small text-right">
                            
                            
                            
                              
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                              May 21, 2024
                            
                          </p>
                        

                        <div id="post-content">
                          <p>Applications that utilize artifacts from the Kuksa project need to rely on the secure execution of these components. We are, therefore, happy to announce the publication of an external audit report carried out by <a href="https://www.quarkslab.com">Quarkslab</a>. The audit was facilitated through <a href="https://ostif.org">OSTIF</a> and the <a href="https://www.eclipse.org">Eclipse Foundation</a> and made possible by the funding the Eclipse Foundation received from the <a href="https://openssf.org/community/alpha-omega/">Alpha-Omega project</a>.</p>
<ul>
<li>The audit was scoped on the KUKSA databroker and the respective Python client SDK.</li>
<li>There were 19 findings, of which two had a high severity.</li>
<li>The KUKSA team fixed most findings before the release of the report.</li>
</ul>
<p>In this post, we explain some of the findings and how they were addressed. The full audit report is <a href="https://ostif.org/wp-content/uploads/2024/05/Kuksaaudit1.2.pdf">available here</a></p>
<h2 id="audit-process">Audit process</h2>
<p>Together with the auditors, there was an agreement to focus the analysis on the KUKSA databroker and the Python client SDK since these are the most used deliverables of the Eclipse Kuksa project. The team at Quarkslab then based their work on the derived threat model and extended this through automated and manual static analysis. In addition, they performed dynamic fuzz testing. After completing the report, the auditors shared their results with the Kuksa team. The maintainers of Eclipse Kuksa then resolved all findings with low or higher severity without another review by Quarkslab. We can now share some examples here for findings and their fixes.</p>
<h2 id="findings">Findings</h2>
<p>There were two findings for which the auditors assigned a high severity:</p>
<h3 id="provider-can-crash-databroker-by-adding-new-signals">Provider can crash databroker by adding new signals</h3>
<p>In a Kuksa deployment, so-called providers update signals by retrieving the values from the vehicle bus (e.g., CAN), converting them to VSS signals (<a href="https://covesa.github.io/vehicle_signal_specification/">Vehicle Signal Specification</a>), and then writing them to the databroker. With the Kuksa API &lsquo;<a href="https://github.com/eclipse-kuksa/kuksa-databroker/tree/main/proto/sdv/databroker/v1">sdv.databroker.v1</a>&rsquo;, a provider can register new signals to extend the data model managed by the databroker during runtime. However, there was no upper limit on the number of entries a provider could add. During the investigation, the auditors registered 29 million signals to cause the operating system to stop the databroker on a computer with 32 GB of RAM. The default data model of VSS 4.0 currently consists of around 1000 signals, which gives an impression of the usual number of expected signals.</p>
<h3 id="user-can-crash-databroker-with-subscription-query">User can crash databroker with subscription query</h3>
<p>In the &lsquo;sdv.databroker.v1&rsquo; API, the user can subscribe to any changes to a signal. In addition, the API allows the user to register specific filters of when to get notified and when not. For instance, one could define a query where the databroker only sends a message when the signals Vehicle.Speed is above 100 kilometers per hour. The API uses SQL to express such filters, and a user could craft specific queries, which caused the databroker to crash.</p>
<h3 id="further-findings">Further findings</h3>
<p>In addition, the audit report contains one finding with medium and ten findings with low severity. There were also six more recommendations with the severity level &ldquo;info&rdquo;.</p>
<p>Examples are:</p>
<ul>
<li>Existing values could be overwritten with values with an older timestamp since the databroker did not properly compare the timestamps.</li>
<li>It was possible to set metadata entries like the version of the databroker through the ‘sdv.databroker.v1’ API</li>
<li>In the Python SDK, fuzzing detected cases where unexpected payloads caused the SDK code to crash.</li>
</ul>
<h2 id="resolutions-and-changes">Resolutions and Changes</h2>
<p>Most findings relate to the Kuksa API &lsquo;sdv.databroker.v1&rsquo;. For several reasons, which are partially also historical, the databroker implements a second gRPC API with a smaller feature set called &lsquo;<a href="https://github.com/eclipse-kuksa/kuksa-databroker/tree/main/proto/kuksa/val/v1">kuksa.val.v1</a>&rsquo;.
The idea was already to support only one of the existing APIs or to design an API that combines the feature sets of both APIs. Based on the results of the audit, the Kuksa team decided to trigger and accelerate the deprecation of the &lsquo;sdv.databroker.v1&rsquo; since many features leading to the security findings are only present in that API but not in the remaining &lsquo;kuksa.val.v1&rsquo; API. As a result, the user now explicitly needs to enable the &lsquo;sdv.databroker.v1&rsquo; API during the start of the databroker, or it is not active anymore.
However, some applications and frameworks like <a href="https://eclipse-velocitas.github.io/velocitas-docs/">Eclipse Velocitas</a> rely on features from that API. Because of that, it has not been removed from the code base yet to have an extended migration period. In addition, this allows the collection of feedback from the community on which of the now missing features should be part of the &lsquo;kuksa.val.v1&rsquo; API or an upgraded future version. The short-term plan is to reference the audit findings in the documentation and make people aware of the security risks involved when actively enabling and using the &lsquo;sdv.databroker.v1&rsquo; API.</p>
<p>For the other findings that did not relate to the &lsquo;sdv.databroker.v1&rsquo; API, the Kuksa team implemented the proposed changes. For instance, in the Python SDK, they added the handling of several corner cases.</p>
<h2 id="deploy-kuksa-in-your-setup">Deploy Kuksa in your setup</h2>
<p>We want to thank OSTIF, the Eclipse Foundation, and Quarkslab for the great collaboration, the chance to go through this audit process, and the valuable feedback we received. We hope the results and fixes encourage you to try out and use the databroker in your use cases, e.g., through one of the SDKs currently available for <a href="https://github.com/eclipse-kuksa/kuksa-python-sdk">Python</a>, <a href="https://github.com/eclipse-kuksa/kuksa-android-sdk">Android</a>, and soon Rust.</p>

                        </div>
                        
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/kuksa-website/categories/dissemination">DISSEMINATION (14)</a>
            </li>
            
            <li>
                <a href="/kuksa-website/categories/implementation">IMPLEMENTATION (6)</a>
            </li>
            
            <li>
                <a href="/kuksa-website/categories/introduction">INTRODUCTION (1)</a>
            </li>
            
            <li>
                <a href="/kuksa-website/categories/release">RELEASE (1)</a>
            </li>
            
            <li>
                <a href="/kuksa-website/categories/rover">ROVER (1)</a>
            </li>
            
            <li>
                <a href="/kuksa-website/categories/use-cases">USE-CASES (2)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li >
                <a href="/kuksa-website/tags/appstore"><i class="fas fa-tags"></i> appstore</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/audit"><i class="fas fa-tags"></i> audit</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/authentication"><i class="fas fa-tags"></i> authentication</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/can"><i class="fas fa-tags"></i> can</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/dbc"><i class="fas fa-tags"></i> dbc</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/demo"><i class="fas fa-tags"></i> demo</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/ece18"><i class="fas fa-tags"></i> ece18</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/ecf18"><i class="fas fa-tags"></i> ecf18</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/eclipse-kuksa"><i class="fas fa-tags"></i> eclipse-kuksa</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/eclipse-kuksa-eclipsecon19"><i class="fas fa-tags"></i> eclipse-kuksa-eclipsecon19</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/feeder"><i class="fas fa-tags"></i> feeder</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/fh-dortmund"><i class="fas fa-tags"></i> fh-dortmund</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/gateway"><i class="fas fa-tags"></i> gateway</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/implementation"><i class="fas fa-tags"></i> implementation</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/iot"><i class="fas fa-tags"></i> iot</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/j1939"><i class="fas fa-tags"></i> j1939</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/ko%c3%a7sistem"><i class="fas fa-tags"></i> koçsistem</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/kuksa.val"><i class="fas fa-tags"></i> kuksa.val</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/magazine"><i class="fas fa-tags"></i> magazine</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/netas"><i class="fas fa-tags"></i> netas</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/neta%c5%9f"><i class="fas fa-tags"></i> netaş</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/obd"><i class="fas fa-tags"></i> obd</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/open-hardware"><i class="fas fa-tags"></i> open-hardware</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/otokar"><i class="fas fa-tags"></i> otokar</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/oulanka"><i class="fas fa-tags"></i> oulanka</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/rover"><i class="fas fa-tags"></i> rover</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/scr"><i class="fas fa-tags"></i> scr</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/security"><i class="fas fa-tags"></i> security</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/sumo"><i class="fas fa-tags"></i> sumo</a>
            </li>
            
            <li >
                <a href="/kuksa-website/tags/taskit"><i class="fas fa-tags"></i> taskit</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        

        <div class="col-md-4 col-sm-6">

            

        </div>
        

        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright © 2018-2022 The Eclipse Foundation. All Rights Reserved.</p>
            
            <p class="pull-right">
              Template by <a href="https://bootstrapious.com/p/universal-business-e-commerce-template">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>.
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>


<script src="/kuksa-website/js/front.js"></script>


<script src="/kuksa-website/js/owl.carousel.min.js"></script>



  </body>
</html>
